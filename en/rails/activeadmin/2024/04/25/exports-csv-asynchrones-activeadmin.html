<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Scalable and Efficient Data Exports: Enabling ActiveAdmin’s Asynchronous Mode | ILYBA</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Scalable and Efficient Data Exports: Enabling ActiveAdmin’s Asynchronous Mode" />
<meta property="og:locale" content="en" />
<meta name="description" content="Data export is a essential feature in many modern web applications. In ActiveAdmin, CSV exports are synchronously generated by default. However, when the exported data sets are large, this approach can lead to prolonged blocking of HTTP connections, negatively affecting the overall performance of the application." />
<meta property="og:description" content="Data export is a essential feature in many modern web applications. In ActiveAdmin, CSV exports are synchronously generated by default. However, when the exported data sets are large, this approach can lead to prolonged blocking of HTTP connections, negatively affecting the overall performance of the application." />
<link rel="canonical" href="/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html" />
<meta property="og:url" content="/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html" />
<meta property="og:site_name" content="ILYBA" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-04-25T19:37:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Scalable and Efficient Data Exports: Enabling ActiveAdmin’s Asynchronous Mode" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-04-25T19:37:00+00:00","datePublished":"2024-04-25T19:37:00+00:00","description":"Data export is a essential feature in many modern web applications. In ActiveAdmin, CSV exports are synchronously generated by default. However, when the exported data sets are large, this approach can lead to prolonged blocking of HTTP connections, negatively affecting the overall performance of the application.","headline":"Scalable and Efficient Data Exports: Enabling ActiveAdmin’s Asynchronous Mode","mainEntityOfPage":{"@type":"WebPage","@id":"/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html"},"url":"/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" type="text/css" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="ILYBA" /></head>
  
  <body>
    <header>
      <a style="text-decoration: none" class="logo" href="/en">
        <img style="margin-bottom: -0.15em; height: 1em;" src="/assets/images/logo.svg" />
        ILYBA
      </a>

      <nav class="menu">
        
        
          <a href="/en/services/">Services</a>
        
          <a href="/en/blog/">Blog</a>
        
          <a href="/en/pricing/">Pricing</a>
        
          <a href="/en/contact/">Contact</a>
        
      </nav>
    </header>

    <main>
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Scalable and Efficient Data Exports: Enabling ActiveAdmin&#39;s Asynchronous Mode</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-04-25T19:37:00+00:00" itemprop="datePublished">April 25, 2024</time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Data export is a essential feature in many modern web applications.
In ActiveAdmin, CSV exports are synchronously generated by default.
However, when the exported data sets are large, this approach can lead
to prolonged blocking of HTTP connections, negatively affecting
the overall performance of the application.</p>

<p>When a connection stays busy for too long, it can exhaust
the server’s resources, causing delays for other users.
If this situation persists and resources are completely depleted,
other users’ requests will be blocked, rendering the application inaccessible.</p>

<p>To address this problem, the gem <code class="language-plaintext highlighter-rouge">activeadmin-async_exporter</code> was initially
developed to enable asynchronous export generation through ActiveJob. However,
we encountered several issues with this solution. First,
the <code class="language-plaintext highlighter-rouge">activeadmin-async_exporter</code> gem is no longer maintained
and is incompatible with the latest versions of Rails.</p>

<p>While trying to install it, we ran into a <code class="language-plaintext highlighter-rouge">NameError</code>,,
which seemed to be related to autoloading issues. Additionally, the configuration
of <code class="language-plaintext highlighter-rouge">strong parameters</code> is not considered, and the gem uses
the <code class="language-plaintext highlighter-rouge">current_admin_user</code> method, whereas our application uses <code class="language-plaintext highlighter-rouge">current_user</code>.</p>

<p>Although ActiveAdmin allows configuring these aspects,
the <code class="language-plaintext highlighter-rouge">activeadmin-async_exporter</code> gem does not suppport these configurations.</p>

<p>Moreover, the gem does not support ActiveStorage and uses a different file storage system.</p>

<p>Although the gem provides a code generator for setting up a database migration
and an ActiveAdmin resource, its use is not documented in the README.
The README only mentions adding the gem to the Gemfile
without providing detailed instructions.</p>

<p>Given these limitations, we decided to integrate the code from
the <code class="language-plaintext highlighter-rouge">activeadmin-async_exporter</code> gem into our application,
customizing it to meet our specific needs.</p>

<p>We have not published the gem yet as our current efforts are focused
on other aspects of our project. Although the current code meets our
internal requirements, we have not planned to invest additional time
adapting it for potential public release. Thus, we prefer to leave
it as is for now, without completely ruling out the possibility
of future publication.</p>

<p>Extracting the code posed some technical challenges.
Specifically, out worker needed to inherit from ApplicationJob,
requiring us to place the code in the <code class="language-plaintext highlighter-rouge">app/workers</code> directory.
Additionally, some aspects of the code had to be modified
to ensure compatibility with our application.</p>

<p>Despite these difficulties, using asynchronous exports in ActiveAdmin
has proven crucial in improving the performance of our application.
By adapting the existing gem to fit our specific needs, we were able
to leverage this technology while maintaining complete control
over its functionality.</p>

<p>Through this process, we were able to significantly enhance the scalability
and efficiency of our system, while simultaneously providing
a smoother and more responsive experience for our users.</p>

  </div>

  
      <p>&raquo; <a rel="next" href="/rails/actioncontroller/actionview/2024/10/15/les-bonnes-pratiques-avec-les-formulaires-rails.html">Best Practices Guide for Simple and Clean Rails Forms</a> &raquo;
  

  <a class="u-url" href="/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html" hidden></a>
</article>

    </main>

    <footer>
      <p>&copy; ILYBA</p>
      <nav>
        
          
          <a href="/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html" >Français</a> |
          English |
          
          <a href="/ja/rails/activeadmin/2024/04/25/exports-csv-asynchrones-activeadmin.html" >日本語</a>
        
      </nav>
    </footer>
  </body>
</html>
